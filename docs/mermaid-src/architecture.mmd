graph TB
    subgraph HARD["Hard Dependencies (mod.info require)"]
        PL["PhobosLib v1.13.0+<br/>20 modules (12 shared + 8 client)"]
        ZR["zReVaccin 3<br/>Lab equipment entities"]
    end

    subgraph PCP["PhobosChemistryPathways v0.24.0"]
        CORE["Core"]
        REC["198 Recipes<br/>6 recipe files"]
        ITEMS["43 Items<br/>+ 5 Skill Books"]
        FLUIDS["8 Fluids"]
        SB["16 Sandbox Options"]
        PURITY["Purity System<br/>PCP_PuritySystem.lua"]
        HAZARD["Hazard System<br/>PCP_HazardSystem.lua"]
        SKILL["Skill System<br/>perks + professions + traits"]
        CALLBACKS["168 OnCreate Callbacks<br/>PCP_RecipeCallbacks.lua"]
        TRADING["DT Integration<br/>PCP_DynamicTradingData.lua"]
        MIXER["Concrete Mixer<br/>13 Recipes (6 construction<br/>+ 5 bulk chem + 1 plaster + 1 build)<br/>PCP_MixerCompat.lua"]
        POPUP["Guide + Changelog Popups<br/>PCP_GuidePopup.lua<br/>PCP_ChangelogPopup.lua"]
    end

    subgraph SOFT["Soft Dependencies (runtime-detected)"]
        ZSS["ZScienceSkill<br/>Science, Bitch!"]
        EHR["EHR v2.8.1<br/>Extensive Health Rework"]
        DT["DynamicTradingCommon<br/>NPC Trading"]
        NC["NeatCrafting<br/>Neat Crafting"]
    end

    PL --> CORE
    ZR --> REC

    PURITY -->|"delegates to<br/>PhobosLib_Quality"| PL
    HAZARD -->|"delegates to<br/>PhobosLib_Hazard"| PL
    SKILL -->|"delegates to<br/>PhobosLib_Skill"| PL
    CALLBACKS -->|"uses<br/>PhobosLib_Sandbox<br/>PhobosLib_Fluid"| PL
    TRADING -->|"uses<br/>PhobosLib_Trading"| PL
    FARMING["Farming Compat<br/>PCP_FarmingCompat.lua"]
    FARMING -->|"uses<br/>PhobosLib_FarmingSpray"| PL
    MIXER -->|"uses<br/>PhobosLib_Power"| PL
    POPUP -->|"uses<br/>PhobosLib_Popup"| PL

    HAZARD -.->|"EHR.Disease.TryContract<br/>(pcall-wrapped)"| EHR
    SKILL -.->|"registerXPMirror<br/>AC to Science at 50%"| ZSS
    TRADING -.->|"registerTradeItems<br/>(34 items, 1 tag, 1 archetype)"| DT
    REC -.->|"PhobosLib_RecipeFilter<br/>(NC_FilterBar hook)"| NC

    style HARD fill:#264,color:#fff
    style SOFT fill:#446,color:#fff
